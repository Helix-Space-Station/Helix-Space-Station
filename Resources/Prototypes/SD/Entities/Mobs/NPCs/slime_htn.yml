- type: htnCompound
  id: SlimeCompound
  branches:
  - tasks:
    - !type:HTNCompoundTask
      task: SlimeFoodCompound
  - tasks:
    - !type:HTNPrimitiveTask
      operator: !type:UtilityOperator
        proto: NearbyMeleeTargets
    - !type:HTNCompoundTask
      task: SlimeFollowTargetCompound
  - tasks:
    - !type:HTNCompoundTask
      task: IdleCompound

- type: htnCompound
  id: SlimeFollowTargetCompound
  branches:
  - preconditions:
      - !type:KeyExistsPrecondition
        key: Target
    tasks:
      - !type:HTNPrimitiveTask
        operator: !type:MoveToOperator
          pathfindInPlanning: true
          removeKeyOnFinish: false
          targetKey: TargetCoordinates
          pathfindKey: TargetPathfind
          rangeKey: InteractRange


- type: htnCompound
  id: SlimeFoodCompound
  branches:
  - tasks:
    - !type:HTNPrimitiveTask
      operator: !type:UtilityOperator
        proto: NearbyFood
    - !type:HTNPrimitiveTask
      operator: !type:MoveToOperator
        pathfindInPlanning: true
        removeKeyOnFinish: false
        targetKey: TargetCoordinates
        pathfindKey: TargetPathfind
        rangeKey: MeleeRange
    - !type:HTNPrimitiveTask
      preconditions:
      - !type:KeyExistsPrecondition
        key: Target
      operator: !type:AltInteractOperator
    - !type:HTNPrimitiveTask
      preconditions:
      - !type:KeyExistsPrecondition
        key: IdleTime
      operator: !type:WaitOperator
        key: IdleTime